<tr rel="<%= task.id %>"<% if task.is_completed? %> class="completed-task task-listing"<% else %> class="task-listing"<% end %>>
	<td>
		<% if task.is_completed? %>
            <span class="label label-default">COMPLETED</span>
		<% else %>
			<%= check_box_tag "#{task.id}", "checkbox", false, class: "checkbox", id: "mark-complete-task-#{task.id}"  %> <%= link_to "Mark as Completed", complete_task_path(task), remote: true, class: "completed_button #{task.id} hidden", id: "mark-complete-task-link-#{task.id}" %>
			<% if task.is_overdue? %>
                <br><span class="label label-danger">OVERDUE</span>
            <% end %>
		<% end %>
	</td>
	<td><%= task.task %><br>
		<% unless hide_contact %>
			<em><%= link_to task.contact.fullname.titleize, contact_path(task.contact_id) %></em> by <strong><%= task.due_date.strftime('%m/%d/%Y') %></strong><br>
		<% else %>
			<strong>Due by <%= task.due_date.strftime('%m/%d/%Y') %></strong><br>
		<% end %>
		<span class="label label-info"><%= task.category %></span>
	</td>	
	<td class="actions">
		<div class="btn-group pull-right">
			<a class="btn btn-inverse dropdown-toggle" data-toggle="dropdown" href="#">Action <span class="caret"></span></a>
			<ul class="dropdown-menu">
				<li>
					<%= link_to edit_button, edit_task_path(task, contact_id: task.contact_id), id: "edit-task-#{task.id}" %>
				</li>
				<li class="divider"></li>
				<li>
					<%= link_to delete_button, task_path(task), :method => :delete, data: { confirm: 'Are you sure?' }, id: "delete-task-#{task.id}"%>
				</li>
				<% unless hide_contact %>
					<li class="divider"></li>
					<li>
						<%= link_to contact_button, contact_path(task.contact_id), id: "view-contact-#{task.contact_id}" %>
					</li>
				<% end %>
			</ul>
		</div> 
	</td>
</tr>